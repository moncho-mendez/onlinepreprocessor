<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <div class="container">
        <a class="nav-brand nav-link" href="/dataset/list" id="home">HOME</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor01" aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarColor01">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item dropdown">
                    <a class="topdiv-text dropdown-toggle nav-link" id="navbar-link" href="#" data-toggle="dropdown"
                       aria-haspopup="true" aria-expanded="false" th:text="#{header.datasets}">
                    </a>
                    <div class="dropdown-menu top-bg" aria-labelledby="navbarDropdownMenuLink">
                        <a class="dropdown-item topdiv-text" href="/dataset/list" th:text="#{header.listdatasets}"></a>
                        <div th:if="${authority!='canView'}">
                            <div th:if="${authority!='canCreateCorpus'}">
                                <a class="dropdown-item topdiv-text" href="/dataset/upload" th:text="#{header.upload}"></a>
                            </div>
                            <a class="dropdown-item topdiv-text" href="/dataset/create" th:text="#{header.create}"></a>
                        </div>
                    </div>
                </li>
                <div th:if="${authority!='canView'}">
                    <li class="nav-item dropdown">
                        <a class="topdiv-text dropdown-toggle nav-link" id="navbar-link" href="#" data-toggle="dropdown"
                           aria-haspopup="true" aria-expanded="false" th:text="#{header.notifications}">
                        </a>
                        <div class="dropdown-menu top-bg" aria-labelledby="navbarDropdownMenuLink">
                            <div th:if="${authority!='canCreateCorpus'}">
                                <a class="dropdown-item topdiv-text" href="/task/upload" th:text="#{header.uploadstate}"></a>
                            </div>
                            <a class="dropdown-item topdiv-text" href="/task/create" th:text="#{header.creation}"></a>
                        </div>
                    </li>
                </div>

                <div th:if="${authority=='canAdminister'}">
                    <li class="nav-item dropdown">
                        <a class="topdiv-text dropdown-toggle nav-link" id="navbar-link" href="#" data-toggle="dropdown"
                           aria-haspopup="true" aria-expanded="false"  th:text="#{header.administer}">
                            <!--Administer-->
                        </a>
                        <div class="dropdown-menu top-bg" aria-labelledby="navbarDropdownMenuLink">
                            <a class="dropdown-item topdiv-text" href="/user/list" th:text="#{header.listusers}"></a>
                            <a class="dropdown-item topdiv-text" href="/permission/listrequests"
                               th:text="#{header.checkpermissions}"></a>
                        </div>
                    </li>
                </div>

                <li class="nav-item dropdown">
                    <a class="topdiv-text dropdown-toggle nav-link" id="navbar-link" href="#" data-toggle="dropdown"
                       aria-haspopup="true" aria-expanded="false" th:text="#{header.permission}">

                    </a>
                    <div class="dropdown-menu top-bg" aria-labelledby="navbarDropdownMenuLink">
                        <a class="dropdown-item topdiv-text" href="/permission/list" th:text="#{header.permissionlist}"></a>
                        <div th:if="${authority!='canAdminister'}">
                            <a class="dropdown-item topdiv-text" href="/permission/requests/"
                               th:text="#{header.permissionrequests}"></a>
                        </div>
                    </div>
                </li>

                <div th:if="${authority=='canAdminister'}">
                    <li class="nav-item dropdown">

                        <a class="topdiv-text dropdown-toggle nav-link" id="navbar-link" href="#" data-toggle="dropdown"
                           aria-haspopup="true" aria-expanded="false" th:text="#{header.licenses}">
                        </a>
                        <div class="dropdown-menu top-bg" aria-labelledby="navbarDropdownMenuLink">
                            <a class="dropdown-item topdiv-text" href="/license/list" th:text="#{header.licenseslist}"></a>
                            <a class="dropdown-item topdiv-text" href="/license/add/" th:text="#{header.addlicense}"></a>
                        </div>

                    </li>
                </div>
            </ul>

            <!--TODO: Change this for an image passed from parameters-->
            <select id="locales" class="form-control">
                <option id="en" value="en" th:text="EN" onclick="changeLocale(this.id)"></option>
                <option id="es" value="es" th:text="ES" onclick="changeLocale(this.id)"></option>
            </select>
            <a href="/user/editprofile">
                <img class="user-photo" th:src="@{'/user/image?username='+${username}}" alt="photo" height="32" width="32">
            </a>
            <p th:text="${username}" class="topdiv-text"></p>
            <div class="float-right logout-icon"></div>
            <a href="/logout">
                <img src="/images/logout.svg" alt="photo" height="32" width="32">
            </a>
        </div>
    </div>
</nav>